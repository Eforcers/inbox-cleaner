{% extends "base.html" %}

{% block style_block %}
    <style type="text/css">
        table.table { width: 60%; }
    </style>
{% endblock %}

{% block content %}
    {% block new_process_form %}
    {% endblock new_process_form %}
    <div class="row">
        
        <div style="margin-top:60px" class="col-md-12">
        <h1 id="processes-list">Processes List</h1>
        <div>&nbsp;</div>
        <table class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Source email</th>
                    <th>Destination message email</th>
                    <th>Search criteria</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for birthday in birthdays %}
                {% set birthday_id = birthday.key.id() %}
                <tr>

                    <td>{{ birthday.display_name }}</td>
                    <td class="nowrap">{{ birthday.timestamp.strftime('%b %d, %Y %I:%M %p') }}</td>
                    <td>
                        <a href="{{ url_for('edit_birthday', birthday_id=birthday_id) }}" class="btn">Edit</a>
                    </td>
                </tr>
                {% else %}
                <tr><td colspan="7">No birthdays yet</td></tr>
                {% endfor %}
            </tbody>
        </table>
        {{curs}}
        <ul class="pager">
            {%if prev_curs %}
            <li id="prev-id" style="cursor: pointer">
                <a href="{{url_for('list_process')}}?prev=true&cursor={{prev_curs}}">
                    previous
                </a>
            </li>
            {% endif %}
            <li id="home-id" style="cursor: pointer">
                <a href="{{url_for('list_process')}}">
                    home
                </a>
            </li>
            {%if next_curs %}
            <li id="next-id" style="cursor: pointer">
                <a href="{{url_for('list_process')}}?cursor={{next_curs}}">
                    next
                </a>
            </li>
            {% endif %}
        </ul>


       </div>
    </div>


{% endblock content %}